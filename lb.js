; (_ => {
	let hc = { '<': '&lt;', '&': '&amp;', "'": '&apos;', '"': '&quot;' }
    , he = x => x.replace(/[<&'"]/g, c => hc[c]) //html chars and escape fn
    , tcs = [
         ["â‰ˆ Â¹â„â‚†", "ğ€", "â‰ˆ Â¹â„â‚†"],
         ["Â¹â„â‚ƒ", "ğ", "Â¹â„â‚ƒ"],
         ["Â¹â„â‚…", "ğ‚", "Â¹â„â‚…"],
         ["Â¹â„â‚„", "ğƒ", "Â¹â„â‚„"],
         ["Â¹â„â‚ˆ", "ğ„", "Â¹â„â‚ˆ"],
         ["â‰ˆ Â¹â„â‚†", "ğ…", "â‰ˆ Â¹â„â‚†"],
         ["Â¹â„â‚‚", "ğ†", "Â¹â„â‚‚"],
         ["Â¹â„â‚â‚†", "ğ‡", "Â¹â„â‚â‚†"],
         ["cum ğ™•", "ğŒ", "cum ğ™•"],
         ["â‰ˆ Â¹â„â‚„", "ğ", "â‰ˆ Â¹â„â‚„"],
         ["cum ğš¥ â‰ˆ Â¹â„â‚‚", "ğ", "cum ğš¥ â‰ˆ Â¹â„â‚‚"],
         ["A", "ğ€€", "A"],
         ["E", "ğ€", "E"],
         ["I", "ğ€‚", "I"],
         ["O", "ğ€ƒ", "O"],
         ["U", "ğ€„", "U"],
         ["DA", "ğ€…", "DA"],
         ["DE", "ğ€†", "DE"],
         ["DI", "ğ€‡", "DI"],
         ["DO", "ğ€ˆ", "DO"],
         ["DU", "ğ€‰", "DU"],
         ["JA", "ğ€Š", "JA"],
         ["JE", "ğ€‹", "JE"],
         ["JO", "ğ€", "JO"],
         ["JU", "ğ€", "JU"],
         ["KA", "ğ€", "KA"],
         ["KE", "ğ€", "KE"],
         ["KI", "ğ€‘", "KI"],
         ["KO", "ğ€’", "KO"],
         ["KU", "ğ€“", "KU"],
         ["MA", "ğ€”", "MA"],
         ["ME", "ğ€•", "ME"],
         ["MI", "ğ€–", "MI"],
         ["MO", "ğ€—", "MO"],
         ["MU", "ğ€˜", "MU"],
         ["NA", "ğ€™", "NA"],
         ["NE", "ğ€š", "NE"],
         ["NI", "ğ€›", "NI"],
         ["NO", "ğ€œ", "NO"],
         ["NU", "ğ€", "NU"],
         ["PA", "ğ€", "PA"],
         ["PE", "ğ€Ÿ", "PE"],
         ["PI", "ğ€ ", "PI"],
         ["PO", "ğ€¡", "PO"],
         ["PU", "ğ€¢", "PU"],
         ["QA", "ğ€£", "QA"],
         ["QE", "ğ€¤", "QE"],
         ["QI", "ğ€¥", "QI"],
         ["QO", "ğ€¦", "QO"],
         ["RA", "ğ€¨", "RA"],
         ["RE", "ğ€©", "RE"],
         ["RI", "ğ€ª", "RI"],
         ["RO", "ğ€«", "RO"],
         ["RU", "ğ€¬", "RU"],
         ["SA", "ğ€­", "SA"],
         ["SE", "ğ€®", "SE"],
         ["SI", "ğ€¯", "SI"],
         ["SO", "ğ€°", "SO"],
         ["SU", "ğ€±", "SU"],
         ["TA", "ğ€²", "TA"],
         ["TE", "ğ€³", "TE"],
         ["TI", "ğ€´", "TI"],
         ["TO", "ğ€µ", "TO"],
         ["TU", "ğ€¶", "TU"],
         ["WA", "ğ€·", "WA"],
         ["WE", "ğ€¸", "WE"],
         ["WI", "ğ€¹", "WI"],
         ["WO", "ğ€º", "WO"],
         ["ZA", "ğ€¼", "ZA"],
         ["ZE", "ğ€½", "ZE"],
         ["ZO", "ğ€¿", "ZO"],
         ["A2", "ğ€", "A2"],
         ["A3", "ğ", "A3"],
         ["AU", "ğ‚", "AU"],
         ["DWE", "ğƒ", "DWE"],
         ["DWO", "ğ„", "DWO"],
         ["NWA", "ğ…", "NWA"],
         ["PU2", "ğ†", "PU2"],
         ["PTE", "ğ‡", "PTE"],
         ["RA2", "ğˆ", "RA2"],
         ["RA3", "ğ‰", "RA3"],
         ["RO2", "ğŠ", "RO2"],
         ["TA2", "ğ‹", "TA2"],
         ["TWE", "ğŒ", "TWE"],
         ["TWO", "ğ", "TWO"],
         ["*22", "ğ’", "goat"],
         ["*100", "ğ‚€", "man"],
         ["*102", "ğ‚", "woman"],
         ["*104", "ğ‚‚", "deer"],
         ["*105", "ğ‚ƒ", "equid"],
         ["*105", "ğ‚„", "mare"],
         ["*105", "ğ‚…", "stallion"],
         ["*106", "ğ‚†", "ewe"],
         ["*106", "ğ‚‡", "ram"],
         ["*107", "ğ‚ˆ", "she-goat"],
         ["*107", "ğ‚‰", "he-goat"],
         ["*108", "ğ‚Š", "sow"],
         ["*108", "ğ‚‹", "boar"],
         ["*109", "ğ‚Œ", "cow"],
         ["*109", "ğ‚", "bull"],
         ["*110", "ğ„¿", "measure subunit 3"],
         ["*111", "ğ„¾", "measure subunit 2"],
         ["*112", "ğ„¼", "dry subunit 1"],
         ["*113", "ğ„½", "liquid subunit 1"],
         ["*114", "ğ„»", "weight subunit 4"],
         ["*115", "ğ„º", "weight subunit 3"],
         ["*116", "ğ„¹", "weight subunit 2"],
         ["*117", "ğ„¸", "weight subunit 1"],
         ["*118", "ğ„·", "weight base unit"],
         ["*120", "ğ‚", "wheat"],
         ["*121", "ğ‚", "barley"],
         ["*122", "ğ‚", "olive"],
         ["*123", "ğ‚‘", "spice"],
         ["*125", "ğ‚’", "cyperus"],
         ["*127", "ğ‚“", "fruit"],
         ["*128", "ğ‚”", "kanako"],
         ["*130", "ğ‚•", "oil"],
         ["*131", "ğ‚–", "wine"],
         ["*133", "ğ‚˜", "arepa"],
         ["*135", "ğ‚™", "meri"],
         ["*140", "ğ‚š", "bronze"],
         ["*141", "ğ‚›", "gold"],
         ["*145", "ğ‚", "wool"],
         ["*151", "ğ‚ ", "horn"],
         ["*155VAS", "ğƒ", "vessel"],
         ["*156", "ğ‚¤", "turo2"],
         ["*159", "ğ‚§", "cloth"],
         ["*162", "ğ‚ª", "garment"],
         ["*163", "ğ‚«", "armour"],
         ["*173", "ğ‚µ", "month"],
         ["*176", "ğ‚·", "tree"],
         ["*191", "ğƒƒ", "helmet"],
         ["*200VAS", "ğƒŸ", "vessel"],
         ["*201VAS", "ğƒ ", "vessel"],
         ["*202VAS", "ğƒ¡", "vessel"],
         ["*203VAS", "ğƒ¢", "vessel"],
         ["*204VAS", "ğƒ£", "vessel"],
         ["*205VAS", "ğƒ¤", "vessel"],
         ["*206VAS", "ğƒ¥", "vessel"],
         ["*207VAS", "ğƒ¦", "vessel"],
         ["*208VAS", "ğƒ§", "vessel"],
         ["*209VAS", "ğƒ¨", "vessel"],
         ["*210VAS", "ğƒ©", "vessel"],
         ["*211VAS", "ğƒª", "vessel"],
         ["*212VAS", "ğƒ«", "vessel"],
         ["*213VAS", "ğƒ¬", "vessel"],
         ["*214VAS", "ğƒ­", "vessel"],
         ["*215VAS", "ğƒ®", "vessel"],
         ["*216VAS", "ğƒ¯", "vessel"],
         ["*217VAS", "ğƒ°", "vessel"],
         ["*218VAS", "ğƒ±", "vessel"],
         ["*219VAS", "ğƒ²", "vessel"],
         ["*220", "ğƒ„", "footstool"],
         ["*221VAS", "ğƒ³", "vessel"],
         ["*222VAS", "ğƒ´", "vessel"],
         ["*225", "ğƒ…", "bathtub"],
         ["*226VAS", "ğƒµ", "vessel"],
         ["*227VAS", "ğƒ¶", "vessel"],
         ["*228VAS", "ğƒ·", "vessel"],
         ["*229VAS", "ğƒ¸", "vessel"],
         ["*230", "ğƒ†", "spear"],
         ["*231", "ğƒ‡", "arrow"],
         ["*233", "ğƒ‰", "sword"],
         ["*236", "ğƒ‹", "inverted sword"],
         ["*240", "ğƒŒ", "wheeled chariot"],
         ["*241", "ğƒ", "chariot"],
         ["*242", "ğƒ", "chariot frame"],
         ["*243", "ğƒ", "wheel"],
         ["*247", "ğƒ’", "dipte"],
         ["*250VAS", "ğƒ¹", "vessel"],
         ["*254", "ğƒ˜", "dart"],
         ["1", "ğ„‡", "1"],
         ["2", "ğ„ˆ", "2"],
         ["3", "ğ„‰", "3"],
         ["4", "ğ„Š", "4"],
         ["5", "ğ„‹", "5"],
         ["6", "ğ„Œ", "6"],
         ["7", "ğ„", "7"],
         ["8", "ğ„", "8"],
         ["9", "ğ„", "9"],
         ["10", "ğ„", "10"],
         ["20", "ğ„‘", "20"],
         ["30", "ğ„’", "30"],
         ["40", "ğ„“", "40"],
         ["50", "ğ„”", "50"],
         ["60", "ğ„•", "60"],
         ["70", "ğ„–", "70"],
         ["80", "ğ„—", "80"],
         ["90", "ğ„˜", "90"],
         ["100", "ğ„™", "100"],
         ["200", "ğ„š", "200"],
         ["300", "ğ„›", "300"],
         ["400", "ğ„œ", "400"],
         ["500", "ğ„", "500"],
         ["600", "ğ„", "600"],
         ["700", "ğ„Ÿ", "700"],
         ["800", "ğ„ ", "800"],
         ["900", "ğ„¡", "900"],
         ["1000", "ğ„¢", "1000"],
         ["2000", "ğ„£", "2000"],
         ["3000", "ğ„¤", "3000"],
         ["4000", "ğ„¥", "4000"],
         ["5000", "ğ„¦", "5000"],
         ["6000", "ğ„§", "6000"],
         ["7000", "ğ„¨", "7000"],
         ["8000", "ğ„©", "8000"],
         ["9000", "ğ„ª", "9000"],
         ["10000", "ğ„«", "10000"],
         ["20000", "ğ„¬", "20000"],
         ["30000", "ğ„­", "30000"],
         ["40000", "ğ„®", "40000"],
         ["50000", "ğ„¯", "50000"],
         ["60000", "ğ„°", "60000"],
         ["70000", "ğ„±", "70000"],
         ["80000", "ğ„²", "80000"],
         ["90000", "ğ„³", "90000"],
         ["*18", "ğ", "*18"],
         ["*19", "ğ‘", "*19"],
         ["*34", "ğ“", "*34"],
         ["*47", "ğ”", "*47"],
         ["*49", "ğ•", "*49"],
         ["*56", "ğ–", "*56"],
         ["*63", "ğ—", "*63"],
         ["*64", "ğ˜", "*64"],
         ["*79", "ğ™", "*79"],
         ["*82", "ğš", "*82"],
         ["*83", "ğ›", "*83"],
         ["*86", "ğœ", "*86"],
         ["*89", "ğ", "*89"],
         ["*132", "ğ‚—", "*132"],
         ["*142", "ğ‚œ", "*142"],
         ["*146", "ğ‚", "*146"],
         ["*150", "ğ‚Ÿ", "*150"],
         ["*152", "ğ‚¡", "*152"],
         ["*153", "ğ‚¢", "*153"],
         ["*154", "ğ‚£", "*154"],
         ["*157", "ğ‚¥", "*157"],
         ["*158", "ğ‚¦", "*158"],
         ["*160", "ğ‚¨", "*160"],
         ["*161", "ğ‚©", "*161"],
         ["*164", "ğ‚¬", "*164"],
         ["*165", "ğ‚­", "*165"],
         ["*166", "ğ‚®", "*166"],
         ["*167", "ğ‚¯", "*167"],
         ["*168", "ğ‚°", "*168"],
         ["*169", "ğ‚±", "*169"],
         ["*170", "ğ‚²", "*170"],
         ["*171", "ğ‚³", "*171"],
         ["*172", "ğ‚´", "*172"],
         ["*174", "ğ‚¶", "*174"],
         ["*177", "ğ‚¸", "*177"],
         ["*178", "ğ‚¹", "*178"],
         ["*179", "ğ‚º", "*179"],
         ["*180", "ğ‚»", "*180"],
         ["*181", "ğ‚¼", "*181"],
         ["*182", "ğ‚½", "*182"],
         ["*183", "ğ‚¾", "*183"],
         ["*184", "ğ‚¿", "*184"],
         ["*185", "ğƒ€", "*185"],
         ["*189", "ğƒ", "*189"],
         ["*190", "ğƒ‚", "*190"],
         ["*232", "ğƒˆ", "*232"],
         ["*234", "ğƒŠ", "*234"],
         ["*245", "ğƒ", "*245"],
         ["*246", "ğƒ‘", "*246"],
         ["*248", "ğƒ“", "*248"],
         ["*249", "ğƒ”", "*249"],
         ["*251", "ğƒ•", "*251"],
         ["*252", "ğƒ–", "*252"],
         ["*253", "ğƒ—", "*253"],
         ["*255", "ğƒ™", "*255"],
         ["*256", "ğƒš", "*256"],
         ["*257", "ğƒ›", "*257"],
         ["*258", "ğƒœ", "*258"],
         ["*259", "ğƒ", "*259"],
         ["*305", "ğƒº", "*305"],
    ]
		, tc = {} //tab completions

	for (let i = 0; i < tcs.length; i++) tc[tcs[i][0]] = tcs[i][1]
	let lbh = '';
  for (let i = 0; i < tcs.length; i++) {
		lbh += '<b title="' + tcs[i][1] + '\n' + '-' + tcs[i][0] + ' <tab>' + '\n' + tcs[i][2] + '">' + tcs[i][1] + '</b>'
	}
	let d = document, el = d.createElement('div'); el.innerHTML =
		`<div class=ngn_lb><span class=ngn_x title=Close>â</span>${lbh}</div>
 <style>@font-face{font-family:"LinearA Sans Mono";src:local("LinearA Sans Mono"),url(NotoSansLinearA-LinearB.ttf)format('ttf');}</style>
 <style>
  .ngn_lb{position:fixed;top:0;left:0;right:0;background-color:#eee;color:#000;cursor:default;z-index:2147483647;
    font-family:"LinearA Sans Mono",monospace;border-bottom:solid #999 1px;padding:2px 2px 0 2px;word-wrap:break-word;}
  .ngn_lb b{cursor:pointer;padding:0 1px;font-weight:normal}
  .ngn_lb b:hover,.ngn_bq .ngn_lb{background-color:#777;color:#fff}
  .ngn_x{float:right;color:#999;cursor:pointer;margin-top:-3px}
  .ngn_x:hover{color:#f00}
 </style>`
	d.body.appendChild(el)
	let t, ts = [], lb = el.firstChild //t:textarea or input, lb:language bar
	let pd = x => x.preventDefault()
	let ev = (x, t, f, c) => x.addEventListener(t, f, c)
	ev(lb, 'mousedown', x => {
		if (x.target.classList.contains('ngn_x')) { lb.hidden = 1; upd(); pd(x); return }
		if (x.target.nodeName === 'B' && t) {
			let i = t.selectionStart, j = t.selectionEnd, v = t.value, s = x.target.textContent
      let l = s.length;
			if (i != null && j != null) { t.value = v.slice(0, i) + s + v.slice(j); t.selectionStart = t.selectionEnd = i + l }
			pd(x); return
		}
	})
	let fk = x => {
		let t = x.target
		if (!x.ctrlKey && !x.shiftKey && !x.altKey && !x.metaKey) {
			if (x.key == "Tab") {
				let i = t.selectionStart, v = t.value, gs = v.lastIndexOf('-'), c = tc[v.slice(gs+1, i).toUpperCase()]  
				if (c) { t.value = v.slice(0, gs) + c + v.slice(i); t.selectionStart = t.selectionEnd = i - 1; pd(x) }
			}
		}
	}
	let ff = x => {
		let t0 = x.target, nn = t0.nodeName.toLowerCase()
		if (nn !== 'textarea' && (nn !== 'input' || t0.type !== 'text' && t0.type !== 'search')) return
		t = t0; if (!t.ngn) { t.ngn = 1; ts.push(t); ev(t, 'keydown', fk) }
	}
	let upd = _ => { d.body.style.marginTop = lb.clientHeight + 'px' }
	upd(); ev(window, 'resize', upd)
	ev(d, 'focus', ff, !0); let ae = d.activeElement; ae && ff({ type: 'focus', target: ae })
})();
